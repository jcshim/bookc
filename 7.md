### 1. 파일 열기, 읽기, 쓰기, 닫기

#### 1.1 파일 열기  
파일을 사용하기 위해서는 먼저 파일을 열어야 한다. C언어에서는 `fopen` 함수를 활용하여 파일을 열며, 이 함수는 파일 경로와 파일 접근 모드를 인수로 받아 파일 포인터를 반환한다.  
- **접근 모드:**  
  - `"r"` 모드는 파일을 읽기 전용으로 열며, 파일이 없으면 `NULL`을 반환한다.  
  - `"w"` 모드는 파일을 쓰기 전용으로 열며, 기존 파일이 존재하면 내용을 삭제하고 새로 생성한다.  
  - `"a"` 모드는 파일을 추가 모드로 열며, 기존 파일의 끝에 데이터를 추가한다.  
  - `"r+"`, `"w+"`, `"a+"` 등의 모드도 있어 읽기와 쓰기를 동시에 수행할 수 있다.  

예를 들어, 텍스트 파일을 읽기 전용 모드로 열 때는 다음과 같이 작성한다:
```c
FILE *fp = fopen("data.txt", "r");
if (fp == NULL) {
    printf("파일 열기에 실패한다.\n");
}
```

#### 1.2 파일 읽기  
파일이 열리면, 다양한 함수를 사용하여 파일에서 데이터를 읽는다.  
- **문자 단위 읽기:**  
  `fgetc` 함수를 사용하여 파일에서 한 문자를 읽는다.  
  ```c
  int ch = fgetc(fp);
  ```
- **문자열 단위 읽기:**  
  `fgets` 함수를 사용하여 파일에서 한 줄씩 문자열을 읽는다.  
  ```c
  char buffer[100];
  if (fgets(buffer, sizeof(buffer), fp) != NULL) {
      printf("읽은 문자열: %s", buffer);
  }
  ```
- **바이너리 데이터 읽기:**  
  `fread` 함수를 사용하여 파일에서 지정한 크기만큼의 데이터를 읽는다.

#### 1.3 파일 쓰기  
파일에 데이터를 기록할 때는 파일을 쓰기 또는 추가 모드로 연 후, 다음의 함수를 활용한다.  
- **텍스트 데이터 쓰기:**  
  `fprintf` 함수를 사용하여 포맷에 맞게 데이터를 파일에 쓴다.  
  ```c
  FILE *fp = fopen("output.txt", "w");
  if (fp != NULL) {
      fprintf(fp, "Hello, World!\n");
  }
  ```
- **바이너리 데이터 쓰기:**  
  `fwrite` 함수를 사용하여 파일에 바이너리 데이터를 쓴다.

#### 1.4 파일 닫기  
파일 작업이 끝나면 반드시 `fclose` 함수를 사용하여 파일을 닫는다. 파일을 닫음으로써 열린 파일 포인터에 할당된 리소스를 해제하고, 데이터의 저장을 보장한다.
```c
fclose(fp);
```

#### 1.5 예제 코드  
다음은 파일을 열어 읽고, 데이터를 파일에 쓰고, 마지막에 파일을 닫는 간단한 예제이다.
```c
#include <stdio.h>

int main(void) {
    // 파일 열기: "data.txt" 파일을 읽기 모드로 연다.
    FILE *fpRead = fopen("data.txt", "r");
    if (fpRead == NULL) {
        printf("파일 열기에 실패한다.\n");
        return 1;
    }
    
    // 파일 읽기: 파일에서 한 줄씩 읽어 화면에 출력한다.
    char buffer[100];
    while (fgets(buffer, sizeof(buffer), fpRead) != NULL) {
        printf("%s", buffer);
    }
    // 파일 닫기: 읽기 파일을 닫는다.
    fclose(fpRead);
    
    // 파일 쓰기: "output.txt" 파일을 쓰기 모드로 연다.
    FILE *fpWrite = fopen("output.txt", "w");
    if (fpWrite == NULL) {
        printf("파일 열기에 실패한다.\n");
        return 1;
    }
    
    // 파일에 데이터 쓰기
    fprintf(fpWrite, "Hello, World!\n");
    fprintf(fpWrite, "C언어 파일 입출력 예제이다.\n");
    
    // 파일 닫기: 쓰기 파일을 닫는다.
    fclose(fpWrite);
    
    return 0;
}
```

#### 1.6 요약  
- **파일 열기:** `fopen` 함수를 사용하여 파일 경로와 모드를 지정해 파일을 연다.  
- **파일 읽기:** `fgetc`, `fgets`, `fread` 등의 함수를 사용하여 파일에서 데이터를 읽는다.  
- **파일 쓰기:** `fprintf`, `fwrite` 등의 함수를 사용하여 데이터를 파일에 기록한다.  
- **파일 닫기:** `fclose` 함수를 통해 파일을 닫아 메모리와 리소스를 해제한다.  

이러한 과정을 통해 학생들은 파일 입출력의 기본 원리와 실제 코딩 예제를 체험하며, 데이터를 파일로 관리하는 방법을 익힌다.

### 2. 표준 입출력 함수 심화

#### 2.1 표준 입출력 함수의 개요  
표준 입출력 함수는 콘솔과 파일 등 다양한 I/O 장치와 데이터를 주고받기 위한 기본 도구이다.  
이 함수들은 `<stdio.h>`에 정의되어 있으며, 단순한 입출력뿐만 아니라 형식 지정, 버퍼 관리, 에러 처리 등 다양한 기능을 제공한다.

#### 2.2 printf 함수 심화  
`printf` 함수는 데이터를 원하는 형식으로 출력할 때 매우 유용하다.  
- **형식 지정자와 변환:**  
  - `%d`, `%i` : 정수형 데이터를 출력한다.  
  - `%f` : 실수형 데이터를 출력하며, 기본적으로 소수점 이하 6자리까지 표시한다.  
  - `%s` : 문자열을 출력한다.  
  - `%c` : 단일 문자를 출력한다.  
  - `%x` 또는 `%X` : 정수를 16진수로 출력한다.
- **필드 폭과 정밀도:**  
  - `%10d`와 같이 숫자 앞에 필드 폭을 지정하면, 출력된 숫자가 최소 10칸의 공간을 차지하도록 오른쪽 정렬된다.  
  - `%-10d`는 왼쪽 정렬을 의미한다.  
  - `%6.2f`는 전체 6자리 중 소수점 이하 2자리를 출력한다.
- **예제 코드:**
  ```c
  #include <stdio.h>
  
  int main(void) {
      int num = 123;
      double pi = 3.14159;
      char name[] = "Alice";
      
      // 필드 폭과 정밀도 지정
      printf("정수: |%10d|\n", num);        // 오른쪽 정렬, 총 10칸 사용
      printf("실수: |%-10.2f|\n", pi);       // 왼쪽 정렬, 소수점 이하 2자리
      printf("문자열: |%-10s|\n", name);      // 왼쪽 정렬
      
      return 0;
  }
  ```
  
#### 2.3 scanf 함수 심화  
`scanf` 함수는 사용자 입력을 특정 형식으로 읽어들이기 위해 사용된다.  
- **형식 지정자 사용:**  
  - `%d`, `%f`, `%s` 등을 사용해 입력값을 해당 자료형으로 읽어들인다.
- **필드 폭 지정:**  
  - 예를 들어, `%10s`와 같이 지정하면 최대 10문자까지만 읽는다.
- **입력 검증:**  
  - `scanf`는 성공적으로 읽은 항목의 개수를 반환하므로, 반환값을 확인하여 올바른 입력이 이루어졌는지 판단할 수 있다.
- **예제 코드:**
  ```c
  #include <stdio.h>
  
  int main(void) {
      int age;
      char name[20];
      
      printf("이름을 입력하시오: ");
      if (scanf("%19s", name) != 1) {  // 19는 널 종료 문자를 위한 공간 고려
          printf("입력 오류 발생\n");
          return 1;
      }
      
      printf("나이를 입력하시오: ");
      if (scanf("%d", &age) != 1) {
          printf("입력 오류 발생\n");
          return 1;
      }
      
      printf("이름: %s, 나이: %d\n", name, age);
      return 0;
  }
  ```

#### 2.4 기타 표준 입출력 함수  
- **getchar()와 putchar():**  
  - `getchar()`는 입력 버퍼에서 한 문자를 읽어들이며, `putchar()`는 한 문자를 출력한다.
- **fputs()와 fgets():**  
  - `fputs()`는 문자열을 파일에 출력하며, `fgets()`는 파일이나 표준 입력에서 문자열을 읽어온다.
- **fflush():**  
  - 출력 버퍼에 남아 있는 데이터를 강제로 출력 장치로 전송한다.  
  - 특히, `stdout`을 대상으로 사용하면 출력 지연 문제를 해결할 수 있다.
- **에러 및 상태 확인 함수:**  
  - `ferror()`, `feof()` 등은 파일 입출력 과정에서 에러 발생 여부나 파일 끝에 도달했는지를 확인하는 데 사용된다.

#### 2.5 입출력 버퍼와 성능  
표준 입출력 함수는 내부적으로 버퍼를 사용하여 성능을 향상시킨다.  
- **버퍼 종류:**  
  - **라인 버퍼링:** 표준 출력이 터미널일 때 한 줄씩 버퍼링한다.  
  - **전체 버퍼링:** 파일이나 다른 장치에 대해 데이터를 모두 모아서 처리한다.
- **버퍼 플러시:**  
  - `fflush(stdout)`를 호출하여 버퍼에 저장된 데이터를 즉시 출력할 수 있다.
- **주의 사항:**  
  - 버퍼링은 입출력 성능을 높이는 장점이 있으나, 예상치 못한 지연이나 데이터 손실을 방지하기 위해 적절히 관리해야 한다.

#### 2.6 요약  
- **printf와 scanf** 함수는 다양한 형식 지정자와 옵션을 활용해 데이터를 정교하게 출력하고 입력받을 수 있게 해준다.  
- **형식 지정자, 필드 폭, 정밀도** 등의 옵션을 적절히 활용하면 출력 형식을 세밀하게 조정할 수 있다.  
- **추가 함수들(예: getchar, putchar, fputs, fgets, fflush)** 은 보다 구체적인 입출력 상황에서 유용하게 사용된다.  
- 버퍼 관리와 에러 확인 함수를 통해 안정적이고 효율적인 입출력을 구현할 수 있다.

이러한 심화 기능들을 통해 표준 입출력 함수의 활용 범위를 넓히고, 복잡한 데이터 입출력 작업도 체계적으로 수행할 수 있다.

### 3. 간단한 파일 기반 데이터 처리 실습

#### 3.1 실습 개요  
이 실습에서는 파일 입출력 함수를 활용하여 텍스트 파일에서 데이터를 읽어오고, 이를 처리한 후 결과를 다른 파일에 기록하는 방법을 익힌다.  
예제에서는 "input.txt" 파일에 저장된 정수 데이터를 읽어 총합과 평균을 계산하고, 그 결과를 "output.txt" 파일에 기록한다.

#### 3.2 예제 문제  
"input.txt" 파일에는 한 줄에 하나씩 정수 값이 저장되어 있다.  
이 파일에서 정수를 읽어와 총합과 평균을 계산하고, 결과를 "output.txt" 파일에 다음과 같이 기록한다:  
```
총합: <합계>
평균: <평균>
```

#### 3.3 예제 코드  
```c
#include <stdio.h>
#include <stdlib.h>

int main(void) {
    FILE *inFile, *outFile;
    int number;
    int sum = 0;
    int count = 0;
    double average = 0.0;
    
    // 입력 파일 열기: "input.txt" 파일을 읽기 모드로 연다.
    inFile = fopen("input.txt", "r");
    if (inFile == NULL) {
        printf("입력 파일을 열 수 없다.\n");
        return 1;
    }
    
    // 파일에서 정수 데이터를 읽어 총합과 개수를 계산한다.
    while (fscanf(inFile, "%d", &number) == 1) {
        sum += number;
        count++;
    }
    fclose(inFile);
    
    // 읽은 데이터가 있을 경우 평균을 계산한다.
    if (count > 0) {
        average = (double) sum / count;
    }
    
    // 출력 파일 열기: "output.txt" 파일을 쓰기 모드로 연다.
    outFile = fopen("output.txt", "w");
    if (outFile == NULL) {
        printf("출력 파일을 열 수 없다.\n");
        return 1;
    }
    
    // 총합과 평균을 출력 파일에 기록한다.
    fprintf(outFile, "총합: %d\n", sum);
    fprintf(outFile, "평균: %.2f\n", average);
    fclose(outFile);
    
    printf("파일 기반 데이터 처리를 완료하였다.\n");
    return 0;
}
```

#### 3.4 코드 설명  
- **파일 열기 및 데이터 읽기:**  
  - `fopen` 함수를 사용하여 "input.txt" 파일을 읽기 모드("r")로 연다.  
  - 파일 포인터가 `NULL`인지 확인하여 파일 열기에 실패한 경우를 처리한다.  
  - `fscanf` 함수를 이용해 파일에서 정수를 한 개씩 읽어오며, 총합(`sum`)과 데이터 개수(`count`)를 누적 계산한다.
  
- **데이터 처리:**  
  - 모든 데이터를 읽은 후 파일을 닫고, 저장된 정수의 개수가 0보다 크면 평균을 계산한다.
  
- **결과 기록:**  
  - `fopen`을 사용해 "output.txt" 파일을 쓰기 모드("w")로 열고, `fprintf` 함수를 통해 계산된 총합과 평균을 파일에 기록한다.
  - 작업이 완료되면 파일을 닫고, 사용자에게 처리가 완료되었음을 출력한다.

#### 3.5 요약  
- 파일에서 데이터를 읽어와 총합과 평균을 계산하고, 그 결과를 다른 파일에 기록하는 과정을 통해 파일 기반 데이터 처리를 체계적으로 수행한다.  
- 이 실습은 파일 열기, 읽기, 쓰기, 닫기와 같은 기본적인 파일 입출력 과정을 이해하고, 데이터를 처리하는 방법을 익히는 데 중점을 둔다.
- 
